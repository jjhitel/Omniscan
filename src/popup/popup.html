<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>

  <div id="main-view">
    <div class="header-container">
      <h3 data-i18n="appName">Omniscan</h3>
      <button id="history-btn" data-i18n-title="historyTooltip">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
          <path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6a7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7v2a9 9 0 0 0 9-9 9 9 0 0 0-9-9z"/>
          <path d="M12 8v5l4.25 2.52.75-1.23-3.5-2.07V8z"/>
        </svg>
      </button>
    </div>
    
    <p id="popupDescription"></p>
    <p><span data-i18n="popupExample"></span> <code>scan eth 0x...</code></p>
    
    <div class="search-container">
      <input type="text" id="searchInput" autocomplete="off" data-i18n-placeholder="searchInputPlaceholder">
      <button id="add-engine-btn" data-i18n-title="addEngineTooltip">+</button>
      <ul id="engine-list">
        </ul>
    </div>
  </div>

  <div id="history-view" style="display: none;">
    <div class="header-container">
       <button id="back-btn" data-i18n-title="backTooltip">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
         </svg>
       </button>
      <h3 data-i18n="searchHistoryTitle"></h3>
      <button id="clear-history-btn" data-i18n-title="clearHistoryTooltip">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
        </svg>
      </button>
    </div>
    <ul id="history-list"></ul>
  </div>

  <div id="engine-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <h4 id="modal-title"></h4>
      <form id="engine-form">
        <label for="engine-key" data-i18n="modalLabelTicker"></label>
        <input type="text" id="engine-key" required autocomplete="off">
        
        <label for="engine-name" data-i18n="modalLabelName"></label>
        <input type="text" id="engine-name" required autocomplete="off">

        <label for="engine-url" data-i18n="modalLabelUrl"></label>
        <input type="text" id="engine-url" placeholder="https://etherscan.io/search?f=0&q=%s" required autocomplete="off">
        
        <div class="modal-actions">
          <button type="button" id="delete-btn" style="display: none;" data-i18n="modalButtonDelete"></button>
          <button type="button" id="reset-btn" style="display: none;" data-i18n="modalButtonReset"></button> 
          <button type="button" id="cancel-btn" data-i18n="modalButtonCancel"></button>
          <button type="submit" id="save-btn" disabled data-i18n="modalButtonSave"></button>
        </div>
      </form>
    </div>
  </div>

  <script src="popup.js" type="module"></script>
</body>
</html>